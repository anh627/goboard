<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoMaster - C·ªù V√¢y Tr·ª±c Tuy·∫øn</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --board-bg: #f7dc6f;
            --text-color: #333;
            --button-bg: #3498db;
            --button-hover: #2980b9;
            --modal-bg: rgba(0, 0, 0, 0.5);
        }

        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #ecf0f1, #bdc3c7);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background: var(--primary-color);
            color: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        #themeToggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: white;
        }

        main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        section {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
        }

        #settings {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .setting-group {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .setting-group label {
            font-weight: bold;
            min-width: 120px;
        }

        .setting-group select,
        .setting-group input {
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1rem;
            width: 100%;
            max-width: 200px;
        }

        .button-group {
            display: flex;
            gap: 1rem;
        }

        button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            background: var(--button-bg);
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        button:hover {
            background: var(--button-hover);
        }

        #boardContainer {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        #board {
            background: var(--board-bg);
            border: 2px solid #333;
            border-radius: 8px;
            max-width: 100%;
        }

        #gameInfo {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.1rem;
        }

        .stone {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 1px solid #333;
        }

        .stone.black {
            background: black;
        }

        .stone.white {
            background: white;
        }

        #controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 1rem;
        }

        #status {
            text-align: center;
            font-weight: bold;
            margin-top: 1rem;
        }

        #chat {
            max-height: 300px;
            overflow-y: auto;
        }

        #chatMessages {
            max-height: 200px;
            overflow-y: auto;
            padding: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .chat-input {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        #chatInput {
            flex-grow: 1;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #endGame {
            text-align: center;
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--modal-bg);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--modal-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--button-bg);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 1.5rem;
            }

            .setting-group {
                flex-direction: column;
                align-items: flex-start;
            }

            #boardContainer {
                flex-direction: column;
                align-items: center;
            }

            button {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>GoMaster - C·ªù V√¢y Tr·ª±c Tuy·∫øn</h1>
        <button id="themeToggle" aria-label="Chuy·ªÉn ƒë·ªïi giao di·ªán s√°ng/t·ªëi">üåó</button>
    </header>

    <main>
        <section id="settings">
            <h2>Thi·∫øt l·∫≠p V√°n ƒê·∫•u</h2>
            <div class="setting-group">
                <label for="level">C·∫•p ƒë·ªô:</label>
                <select id="level" aria-label="Ch·ªçn c·∫•p ƒë·ªô ch∆°i">
                    <option value="newbie">Newbie (D·ªÖ)</option>
                    <option value="casual" selected>Casual (Trung b√¨nh)</option>
                    <option value="pro">Pro (Kh√≥)</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="boardSize">K√≠ch th∆∞·ªõc b√†n:</label>
                <select id="boardSize" aria-label="Ch·ªçn k√≠ch th∆∞·ªõc b√†n c·ªù">
                    <option value="9">9x9</option>
                    <option value="13">13x13</option>
                    <option value="19" selected>19x19</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="mode">Ch·∫ø ƒë·ªô ch∆°i:</label>
                <select id="mode" aria-label="Ch·ªçn ch·∫ø ƒë·ªô ch∆°i">
                    <option value="ai">Ch∆°i v·ªõi AI</option>
                    <option value="hotseat">2 Ng∆∞·ªùi (Hotseat)</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="ruleSet">Lu·∫≠t ch∆°i:</label>
                <select id="ruleSet" aria-label="Ch·ªçn lu·∫≠t ch∆°i">
                    <option value="chinese">Chinese (Area Scoring)</option>
                    <option value="japanese" selected>Japanese (Territory Scoring)</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="komi">Komi (ƒëi·ªÉm cho Tr·∫Øng):</label>
                <input type="number" id="komi" value="6.5" step="0.5" min="0" max="10" aria-label="ƒêi·ªÉm komi cho qu√¢n tr·∫Øng">
            </div>
            <div class="setting-group">
                <label for="handicap">Handicap (qu√¢n c∆∞·ª£c):</label>
                <input type="number" id="handicap" value="0" min="0" max="9" aria-label="S·ªë qu√¢n c∆∞·ª£c">
            </div>
            <div class="button-group">
                <button id="startGame" class="primary">B·∫Øt ƒë·∫ßu</button>
                <button id="openGuide">H∆∞·ªõng d·∫´n</button>
            </div>
        </section>

        <section id="gameArea" style="display: none;">
            <div id="boardContainer">
                <canvas id="board" tabindex="0" width="600" height="600" aria-label="B√†n c·ªù v√¢y"></canvas>
                <div id="gameInfo">
                    <div id="blackInfo" class="player-info">
                        <span class="stone black"></span>
                        <span>ƒêen: </span>
                        <span id="blackCaptures">0</span> qu√¢n b·∫Øt
                        <span id="blackTime" class="time">10:00</span>
                    </div>
                    <div id="whiteInfo" class="player-info">
                        <span class="stone white"></span>
                        <span>Tr·∫Øng: </span>
                        <span id="whiteCaptures">0</span> qu√¢n b·∫Øt
                        <span id="whiteTime" class="time">10:00</span>
                    </div>
                </div>
            </div>
            <div id="controls">
                <button id="pass" aria-label="B·ªè l∆∞·ª£t">Pass</button>
                <button id="resign" aria-label="ƒê·∫ßu h√†ng">ƒê·∫ßu h√†ng</button>
                <button id="undo" aria-label="Ho√†n t√°c n∆∞·ªõc ƒëi">Ho√†n t√°c</button>
                <button id="hint" style="display: none;" aria-label="Xem g·ª£i √Ω t·ª´ AI">G·ª£i √Ω</button>
                <button id="saveGame" aria-label="L∆∞u v√°n c·ªù d∆∞·ªõi d·∫°ng SGF">L∆∞u SGF</button>
            </div>
            <div id="status" aria-live="polite">L∆∞·ª£t c·ªßa ƒêen</div>
        </section>

        <section id="chat" style="display: none;">
            <h3>Chat</h3>
            <div id="chatMessages" role="log" aria-live="polite"></div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Nh·∫≠p tin nh·∫Øn..." aria-label="Nh·∫≠p tin nh·∫Øn chat">
                <button id="sendChat" aria-label="G·ª≠i tin nh·∫Øn">G·ª≠i</button>
            </div>
        </section>

        <section id="endGame" style="display: none;">
            <h2>K·∫øt th√∫c v√°n ƒë·∫•u</h2>
            <p>Click v√†o nh√≥m qu√¢n ch·∫øt ƒë·ªÉ ƒë√°nh d·∫•u</p>
            <div id="scoreInfo" aria-live="polite"></div>
            <div class="button-group">
                <button id="confirmScore" class="primary" aria-label="X√°c nh·∫≠n ƒëi·ªÉm s·ªë">X√°c nh·∫≠n ƒëi·ªÉm</button>
                <button id="resumeGame" aria-label="Ti·∫øp t·ª•c ch∆°i">Ti·∫øp t·ª•c ch∆°i</button>
            </div>
        </section>

        <div id="guideModal" class="modal" style="display: none;" role="dialog">
            <div class="modal-content">
                <span class="close" aria-label="ƒê√≥ng h∆∞·ªõng d·∫´n">&times;</span>
                <h2>H∆∞·ªõng d·∫´n ch∆°i C·ªù V√¢y</h2>
                <div id="guideContent">
                    <p>C·ªù v√¢y l√† tr√≤ ch∆°i chi·∫øn l∆∞·ª£c c·ªï x∆∞a. M·ª•c ti√™u l√† bao v√¢y l√£nh th·ªï l·ªõn h∆°n ƒë·ªëi th·ªß.</p>
                    <ul>
                        <li>ƒê·∫∑t qu√¢n: Nh·∫•p v√†o giao ƒëi·ªÉm tr√™n b√†n c·ªù.</li>
                        <li>ƒÇn qu√¢n: Bao v√¢y qu√¢n ƒë·ªëi th·ªß ƒë·ªÉ lo·∫°i b·ªè ch√∫ng.</li>
                        <li>Kh√≠: M·ªói nh√≥m qu√¢n c·∫ßn c√≥ √≠t nh·∫•t m·ªôt √¥ tr·ªëng li·ªÅn k·ªÅ (kh√≠).</li>
                        <li>Lu·∫≠t Ko: Kh√¥ng ƒë∆∞·ª£c l·∫∑p l·∫°i tr·∫°ng th√°i b√†n c·ªù tr∆∞·ªõc ƒë√≥.</li>
                    </ul>
                </div>
                <label>
                    <input type="checkbox" id="dontShowAgain" aria-label="Kh√¥ng hi·ªÉn th·ªã h∆∞·ªõng d·∫´n l·∫°i"> Kh√¥ng hi·ªÉn th·ªã l·∫°i
                </label>
            </div>
        </div>

        <div id="loadingOverlay" class="overlay" style="display: none;" aria-hidden="true">
            <div class="spinner"></div>
            <p>ƒêang t·∫£i...</p>
        </div>

        <div id="aiThinking" class="overlay" style="display: none;" aria-hidden="true">
            <div class="spinner"></div>
            <p>AI ƒëang suy nghƒ©...</p>
        </div>
    </main>

    <script src="js/utils.js"></script>
    <script src="js/board.js"></script>
    <script src="js/rules.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
